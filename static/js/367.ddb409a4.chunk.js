"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[367],{4367:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var a="Contacts_contacts__gVK0J",c="Contacts_title__LxdN4",s=n(5861),r=n(9439),o=n(7757),i=n.n(o),l="ContactForm_form__dhl+T",u="ContactForm_label__-cVXI",m="ContactForm_input__Bl93P",d="ContactForm_btn__wll+u",f=n(2791),h=n(9434),_=n(1538),p=n(6052),C=function(){var t=(0,h.I0)();return{filter:(0,h.v9)((function(t){return t.contacts.filter})),contacts:(0,h.v9)((function(t){return t.contacts.items})),isLoaging:(0,h.v9)((function(t){return t.contacts.loader})),error:(0,h.v9)((function(t){return t.contacts.error})),setFilter:function(e){t((0,_.M)(e))},getContacts:function(){t(p.m.getContacts())},addContact:function(e){t(p.m.addContact(e))},deleteContact:function(e){t(p.m.deleteContact(e))}}},b=n(622),v=n(3329),x=function(){var t=C(),e=t.contacts,n=t.addContact,a=(0,f.useState)(""),c=(0,r.Z)(a,2),o=c[0],h=c[1],_=(0,f.useState)(""),p=(0,r.Z)(_,2),x=p[0],g=p[1],j=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":h(a);break;case"number":g(a)}},N=function(){var t=(0,s.Z)(i().mark((function t(a){var c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(c=e.some((function(t){return t.name===o.toLowerCase()&&t.number===x||t.number===x})))?(0,b.Rr)("".concat(o," or ").concat(x," is already in contacts")):n({name:o,number:x}),!c&&(0,b.Qm)("the contact is in the list"),h(""),g("");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,v.jsxs)("form",{className:l,onSubmit:N,children:[(0,v.jsxs)("label",{className:u,children:["Name",(0,v.jsx)("input",{className:m,type:"text",name:"name",value:o,placeholder:"Name",onChange:j,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,v.jsxs)("label",{className:u,children:["Phone",(0,v.jsx)("input",{className:m,type:"tel",name:"number",value:x,placeholder:"Phone number",onChange:j,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,v.jsx)("button",{className:d,type:"submit",children:"Add contact"})]})},g="ContactFilter_descr__CqqCU",j="ContactFilter_input__8mWOi",N=function(){var t=C(),e=t.filter,n=t.setFilter;return(0,v.jsxs)("label",{className:g,children:["Find contacts by name",(0,v.jsx)("input",{className:j,type:"text",name:"filter",value:e,onChange:function(t){n(t.target.value)},placeholder:"Find contacts by name"})]})},F={list:"ContactList_list__csErn",item:"ContactList_item__EZYHO",btn:"ContactList_btn__6Piat"},w=n(8809),y=n(4289),L=function(){var t=(0,h.v9)(y.Z.getIsLoggedIn),e=(0,h.I0)(),n=C(),a=n.contacts,c=n.isLoaging,s=n.filter,r=n.deleteContact,o=n.setFilter;(0,f.useEffect)((function(){e(p.m.getContacts())}),[e]);var i=function(){var t=s.toLowerCase();if(a)return a.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return(0,v.jsxs)(v.Fragment,{children:[c&&(0,v.jsx)(w.a,{}),t&&(0,v.jsx)("ul",{className:F.list,children:a&&i.map((function(t){var e=t.id,n=t.name,a=t.number;return(0,v.jsxs)("li",{className:F.item,children:[(0,v.jsxs)("p",{className:F.name,children:[n,":"]}),(0,v.jsx)("p",{className:F.name,children:a}),(0,v.jsx)("button",{className:F.btn,type:"button",onClick:function(){r(e),(0,b.v7)("".concat(n," tel:").concat(a," is deleted")),o("")},children:"Delete"})]},e)}))})]})},k=function(){return(0,v.jsxs)("div",{className:a,children:[(0,v.jsx)("h2",{className:c,children:"Enter a name and phone number to add a contact"}),(0,v.jsx)(x,{}),(0,v.jsx)(N,{}),(0,v.jsx)(L,{})]})}}}]);
//# sourceMappingURL=367.ddb409a4.chunk.js.map